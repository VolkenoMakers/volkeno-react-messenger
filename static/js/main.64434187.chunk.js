/*! For license information please see main.64434187.chunk.js.LICENSE.txt */
(this["webpackJsonpvolkeno-react-messenger-example"]=this["webpackJsonpvolkeno-react-messenger-example"]||[]).push([[0],{64:function(e,t,n){e.exports=n(80)},65:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);n(65);var a=n(1),o=n.n(a),i=n(23),r=n.n(i),s=n(85),l=(n(70),n(34)),c=n(49),d=n.n(c),u=n(53),m=n(55),v=n(61),p=n(86),f=(n(72),n(56)),b=n(62);"undefined"!==typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!==typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var g={yadMessagerieTitreMessage:"_JkOm-",yadMessagerieTitreMessageContainer:"_pwqed",yadMessagerieBtnAjout:"_yBqpy",yadMessagerieCustomInputSearch:"_3rDVm",yadMessagerieCustomInputAddon:"_2uoEp",yadMessagerieCustomListGroup:"_2iSfb",listGroupItem:"_3sqmx",listGroupItemAction:"_V2RJm",active:"_3sodH",yadMessagerieListGroupNameContainer:"_3J9Fk",formatPseudo:"_9ComG",yadMessagerieListGroupAvatar:"_3v1V8",yadMessagerieListGroupName:"_3nSUg",yadMessagerieListGroupHeure:"_P9G0Y",yadMessagerieListGroupApercu:"_1RfSY",yadMessagerieListGroupCheckIconContainer:"_28ZtD",yadMessagerieListGroupCheckIcon:"_3VXnj","details-mes":"_clSOE","btn-messagerie":"_3l6yh","text-notif-message":"_ItWUy","checkbox-symbol":"_2OutN","checkbox-container":"_2hx2z","checkbox-input":"_Hs70x",checkbox:"_3kknd","zoom-in-out":"_2CNM_","img-profil-mmessage":"_HcPq9","text-name-profil-message":"_c2ezB","content-label-img-profil-mmessage":"_3nWpi","content-label-message":"_yIBXm","text-libelle-message":"_2DLv2","text-date-message":"_2YFVm","content-pagination-message":"_1ih0d","content-label-message-head":"_29L89","header-bloc-message":"_10jpT","text-pagination-message":"_zSBW2",dtailsMessagesTabsComponent:"_2yhJ9","dropdown-toggle":"_1XyFv",inputGroup:"_3-4mn",inputContainer:"_34uzV",btnContainer:"__Bzaq",btnDisabled:"_32hgD",leftFooterContainer:"_245io",imgIconChat:"_2HZX9",send:"_3M7ym","parent-table-container-message-tabs":"_3FwGb","btn-send-message-tabs":"_4ZUcf",profilDetailMessage:"_1Cmtv",timeDetailMessage:"_2e0dq",textMessageRecu:"_N0eEV",blocMessageEnvoyer:"_1bsIt",textMessageEnvoyer:"_3oISP","bloc-details":"_1f66f","empty-chat-message":"_T9GX-","bloc-profil-contact":"_1gT8c","nom-contact":"_2D6ji","time-message-contact":"_sqp8o","contenu-message-contact":"_27FK6","bloc-message-contact":"_M9krm",textDisconnectTime:"_2sBFv",containerDisplayInputMessage:"_215Hd","textarrea-message-custom":"_3jxmp",contentContentDetailMessageInfo:"_1CYhJ",imgPpMessageRecieve:"_3s2Ug",imageProfilEntete:"_2mrHu","img-expediteur":"_1KaQo",blocReponse:"_TeRLQ",blocMessageRecu:"_cUhMA",btnSendMessageModal:"_3EZJw",disabled:"_2RWmX",formSearchUser:"_1jTNH",userForSendMessage:"_1wrfJ",userForSendMessageInfos:"_3WgOT",imgProfilUserMessage:"_FdzMN",customContentMessageLeft:"_3lPn0",customContentMessage:"_1Zxpd",messagerieCustomTextarrea:"_24qL2",yadMessagerieListGroupAvatarContainer:"_1v6qY",contentImgPpChat:"_Gnsrt",yadMessagerieListGroupAvatarIndicator:"_222XF",yadMessagerieDetailMesAvatarIndicator:"_2XFQT",contentContentDetailMessageInfoContainer:"_Ge83a",yadMessageBtnPhoto:"_3N_CI",yadMessageBtnPhotoContainer:"_3KtVk","video-modal-praticien-avatar":"_1_Iem","video-modal-call-time-indicator":"_1okeP","video-modal-praticien-avatar-time-container":"_1rvNW","video-call-modal-body-content":"_3V1FQ","video-modal-btn-action":"_19LMg",raccroche:"_3J_y5","video-modal-btn-action-icon-tel":"_1LBu3",pause:"_3nQu5",video:"_PAuIc","video-modal-btn-action-container":"_3Frmp","vocal-modal-praticien-avatar":"_2wkzV","vocal-modal-praticien-avatar-container":"_16TXE","vocal-modal-praticien-image-container":"_234SN","call-modal-praticien-avatar":"_3odF-",noStyleBtnModal:"_113re",colRightMessagerie:"_5tvlO",listGroupItemMeessage:"_2PDr6",textAreaFormContainer:"_1O1Pa",blocDetails:"_ZzWN1",modalBodyMessenger:"_2ohY7"};var y=function(e){return d()(e).format("DD/MM/YYYY \xe0 HH:mm:ss")};function E(e){var t,n,a;return e?null===(t=(null===e||void 0===e||null===(n=e.prenom)||void 0===n?void 0:n.charAt(0))+"."+(null===e||void 0===e||null===(a=e.nom)||void 0===a?void 0:a.charAt(0)))||void 0===t?void 0:t.toUpperCase():"Y.D"}function j(e,t){return e(t={exports:{}},t.exports),t.exports}var O="function"===typeof Symbol&&Symbol.for,h=O?Symbol.for("react.element"):60103,C=O?Symbol.for("react.portal"):60106,_=O?Symbol.for("react.fragment"):60107,M=O?Symbol.for("react.strict_mode"):60108,N=O?Symbol.for("react.profiler"):60114,w=O?Symbol.for("react.provider"):60109,k=O?Symbol.for("react.context"):60110,S=O?Symbol.for("react.async_mode"):60111,x=O?Symbol.for("react.concurrent_mode"):60111,L=O?Symbol.for("react.forward_ref"):60112,P=O?Symbol.for("react.suspense"):60113,I=O?Symbol.for("react.suspense_list"):60120,A=O?Symbol.for("react.memo"):60115,B=O?Symbol.for("react.lazy"):60116,T=O?Symbol.for("react.block"):60121,D=O?Symbol.for("react.fundamental"):60117,G=O?Symbol.for("react.responder"):60118,F=O?Symbol.for("react.scope"):60119;function R(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case h:switch(e=e.type){case S:case x:case _:case N:case M:case P:return e;default:switch(e=e&&e.$$typeof){case k:case L:case B:case A:case w:return e;default:return t}}case C:return t}}}function U(e){return R(e)===x}var $={AsyncMode:S,ConcurrentMode:x,ContextConsumer:k,ContextProvider:w,Element:h,ForwardRef:L,Fragment:_,Lazy:B,Memo:A,Portal:C,Profiler:N,StrictMode:M,Suspense:P,isAsyncMode:function(e){return U(e)||R(e)===S},isConcurrentMode:U,isContextConsumer:function(e){return R(e)===k},isContextProvider:function(e){return R(e)===w},isElement:function(e){return"object"===typeof e&&null!==e&&e.$$typeof===h},isForwardRef:function(e){return R(e)===L},isFragment:function(e){return R(e)===_},isLazy:function(e){return R(e)===B},isMemo:function(e){return R(e)===A},isPortal:function(e){return R(e)===C},isProfiler:function(e){return R(e)===N},isStrictMode:function(e){return R(e)===M},isSuspense:function(e){return R(e)===P},isValidElementType:function(e){return"string"===typeof e||"function"===typeof e||e===_||e===x||e===N||e===M||e===P||e===I||"object"===typeof e&&null!==e&&(e.$$typeof===B||e.$$typeof===A||e.$$typeof===w||e.$$typeof===k||e.$$typeof===L||e.$$typeof===D||e.$$typeof===G||e.$$typeof===F||e.$$typeof===T)},typeOf:R},W=(j((function(e,t){0})),j((function(e){e.exports=$})),Object.getOwnPropertySymbols),H=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;function Z(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach((function(e){a[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(o){return!1}})()&&Object.assign;var V="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";Function.call.bind(Object.prototype.hasOwnProperty);function q(e,t,n,a,o){}q.resetWarningCache=function(){0};function Y(){}function J(){}J.resetWarningCache=Y;var X=j((function(e){e.exports=function(){function e(e,t,n,a,o,i){if(i!==V){var r=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw r.name="Invariant Violation",r}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:J,resetWarningCache:Y};return n.PropTypes=n,n}()}));var K=function(e){var t,n,o,i,r,l,c,d,v,j,O,h,C,_=e.user,M=e.token,N=e.apiBaseUrl,w=e.setApiPostEndpoint,k=void 0===w?"/api/messages":w,S=e.setApiListUsersEndpoint,x=e.setApiConversationUserEndpoint,L=e.socketUrl,P=e.title,I=void 0===P?"Messagerie":P,A=e.newMessageTitle,B=void 0===A?"Nouvelle discussion":A,T={headers:{Authorization:"Bearer "+M}},D=Object(b.a)(L);_&&D.emit("newUser",{userName:(null===_||void 0===_?void 0:_.prenom)+" "+(null===_||void 0===_?void 0:_.nom),socketID:D.id});var G=Object(a.useState)(!0),F=G[0],R=G[1],U=Object(a.useState)(!1),$=U[0],W=U[1],H=Object(a.useState)(null),z=H[0],Z=H[1],V=Object(a.useState)([]),q=V[0],Y=V[1],J=Object(a.useState)(null),X=J[0],K=J[1],ee=Object(a.useState)(null),te=ee[0],ne=ee[1],ae=Object(a.useState)(""),oe=ae[0],ie=ae[1],re=Object(a.useState)([]),se=re[0],le=re[1],ce=Object(a.useState)(!1),de=ce[0],ue=ce[1],me=Object(a.useState)(""),ve=me[0],pe=me[1],fe=Object(a.useRef)(null);Object(a.useEffect)((function(){s.a.get(N+S,T).then((function(e){var t=e.data.results;Z(t)})).catch((function(e){console.error("Error:",e)}))}),[T]),Object(a.useEffect)((function(){_&&s.a.get(N+x,T).then((function(e){var t=e.data.results;Y(t)})).catch((function(e){console.error("Error:",e)}))}),[T]);var be=function(e){try{e.preventDefault();var t=function(){if(oe.trim()){var t=function(){ue(!1),ie("")};ue(!0);var n,a,o={};if(null!=X)o={content:oe,sender:null===_||void 0===_?void 0:_.id,receiver:null===X||void 0===X?void 0:X.id};else o={content:oe,sender:null===_||void 0===_?void 0:_.id,receiver:null===te||void 0===te||null===(n=te.participants)||void 0===n||null===(a=n.find((function(e){return(null===e||void 0===e?void 0:e.id)!==(null===_||void 0===_?void 0:_.id)})))||void 0===a?void 0:a.id,conversation:null===te||void 0===te?void 0:te.id};var i=function(t,n){try{var a=t()}catch(e){return n(e)}return a&&a.then?a.then(void 0,n):a}((function(){return Promise.resolve(s.a.post(N+k,o,T)).then((function(e){var t,n,a;ne(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.conversation),le(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(a=n.conversation)||void 0===a?void 0:a.messages),D.emit("message",null===e||void 0===e?void 0:e.data),D.emit("typing","")}))}),(function(e){console.error("Error: "+e)}));return i&&i.then?i.then(t):t()}}();return Promise.resolve(t&&t.then?t.then((function(){})):void 0)}catch(e){return Promise.reject(e)}};Object(a.useEffect)((function(){var e;null===(e=fe.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[se]),Object(a.useEffect)((function(){D.on("typingResponse",(function(e){pe(e),console.log("typingResponse",e),console.log("TypingStatus",ve)}))}),[D]);var ge=Object(a.useState)(""),ye=ge[0],Ee=ge[1],je=null===q||void 0===q?void 0:q.filter((function(e){var t,n,a,o;return((null===e||void 0===e||null===(t=e.participants)||void 0===t||null===(n=t.find((function(e){return e.id!==(null===_||void 0===_?void 0:_.id)})))||void 0===n?void 0:n.prenom)+" "+(null===e||void 0===e||null===(a=e.participants)||void 0===a||null===(o=a.find((function(e){return e.id!==(null===_||void 0===_?void 0:_.id)})))||void 0===o?void 0:o.nom)).toLowerCase().includes(ye.toLowerCase())}));return Object(a.createElement)("div",{className:"mb-3 p-2"},Object(a.createElement)("div",{className:"row"},Object(a.createElement)("div",{className:"col-lg-4 col-left-messagerie d-flex mb-3"},Object(a.createElement)("div",{className:g.customContentMessageLeft+" w-100"},Object(a.createElement)("div",{className:g.yadMessagerieTitreMessageContainer+"  mb-4"},Object(a.createElement)("div",{className:g.yadMessagerieTitreMessage},I),Object(a.createElement)("button",{onClick:function(e){return function(e){e.preventDefault(),W(!0)}(e)},className:"btn "+g.yadMessagerieBtnAjout+" "+g.btnAddNewChat},Object(a.createElement)(u.a,null)),Object(a.createElement)(Q,{modalNewChat:$,setModalNewChat:W,setReceiver:K,setConversationActive:ne,userList:z,ApiBaseUrl:N,conversations:q,setMessages:le,newMessageTitle:B})),Object(a.createElement)("div",{className:"input-group mb-4"},Object(a.createElement)("span",{className:"input-group-text "+g.yadMessagerieCustomInputAddon,id:"basic-addon1"},Object(a.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none"},Object(a.createElement)("path",{d:"M12.8645 11.3205H12.0515L11.7633 11.0426C12.7719 9.8694 13.3791 8.34624 13.3791 6.68929C13.3791 2.99461 10.3842 -0.000244141 6.68954 -0.000244141C2.99485 -0.000244141 0 2.99461 0 6.68929C0 10.384 2.99485 13.3788 6.68954 13.3788C8.34648 13.3788 9.86964 12.7716 11.0429 11.7631L11.3208 12.0512V12.8643L16.4666 17.9998L18 16.4663L12.8645 11.3205ZM6.68954 11.3205C4.12693 11.3205 2.05832 9.2519 2.05832 6.68929C2.05832 4.12669 4.12693 2.05807 6.68954 2.05807C9.25214 2.05807 11.3208 4.12669 11.3208 6.68929C11.3208 9.2519 9.25214 11.3205 6.68954 11.3205Z",fill:"#C9CED6"}))),Object(a.createElement)("input",{type:"text",className:"form-control "+g.yadMessagerieCustomInputSearch,placeholder:"Recherche","aria-label":"Username","aria-describedby":"basic-addon1",value:ye,onChange:function(e){Ee(e.target.value)}})),Object(a.createElement)(p.a,{className:"list-group list-group-flush "+g.yadMessagerieCustomListGroup},je&&(null===je||void 0===je?void 0:je.length)>0?null===je||void 0===je?void 0:je.map((function(e){var t,n,o,i,r,s,l,c,d,u,v,f,b,j,O,h,C,M;return Object(a.createElement)(p.a.Item,{type:"button",className:"btn "+g.listGroupItem+" "+g.listGroupItemAction+" "+((null===e||void 0===e?void 0:e.id)===(null===te||void 0===te?void 0:te.id)&&"active"),"aria-current":"true",key:null===e||void 0===e?void 0:e.id,onClick:function(){return function(e){try{return K(null),ne(e),le(null===e||void 0===e?void 0:e.messages),Promise.resolve()}catch(t){return Promise.reject(t)}}(e)}},Object(a.createElement)("div",{className:g.yadMessagerieListGroupAvatarContainer+" d-flex"},null!==e&&void 0!==e&&null!==(t=e.participants)&&void 0!==t&&null!==(n=t.find((function(e){return(null===e||void 0===e?void 0:e.id)!==(null===_||void 0===_?void 0:_.id)})))&&void 0!==n&&n.avatar&&F&&"/mediafiles/avatars/default.png"!==(null===e||void 0===e||null===(o=e.participants)||void 0===o||null===(i=o.find((function(e){return(null===e||void 0===e?void 0:e.id)!==(null===_||void 0===_?void 0:_.id)})))||void 0===i?void 0:i.avatar)?Object(a.createElement)("img",{src:(M=null===e||void 0===e||null===(r=e.participants)||void 0===r||null===(s=r.find((function(e){return(null===e||void 0===e?void 0:e.id)!==(null===_||void 0===_?void 0:_.id)})))||void 0===s?void 0:s.avatar,!M||null!==M&&void 0!==M&&M.includes("default.png")?"avatar~CcEBWrss.png":0===M.indexOf("http")?M:"https://yaay-ak-doom-api.volkeno-engineering.click/"+M),className:g.yadMessagerieListGroupAvatar,alt:"Photo",onError:function(){return R(!1)}}):Object(a.createElement)("div",{className:g.formatPseudo},E(null===e||void 0===e||null===(l=e.participants)||void 0===l?void 0:l.find((function(e){return(null===e||void 0===e?void 0:e.id)!==(null===_||void 0===_?void 0:_.id)})))),null!==e&&void 0!==e&&e.en_ligne?Object(a.createElement)("div",{className:g.yadMessagerieListGroupAvatarIndicator},Object(a.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 10 10",fill:"none"},Object(a.createElement)("circle",{cx:"5",cy:"4.99976",r:"4.5",fill:"#2CC84A",stroke:"white"}))):Object(a.createElement)("div",{className:g.yadMessagerieListGroupAvatarIndicator},Object(a.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 10 10",fill:"none"},Object(a.createElement)("circle",{cx:"5",cy:"4.99976",r:"4.5",fill:"#F2F2F2",stroke:"white"})))),Object(a.createElement)("div",{className:"w-100"},Object(a.createElement)("div",{className:g.yadMessagerieListGroupNameContainer},Object(a.createElement)("div",{className:g.yadMessagerieListGroupName+" m-r-7"},null===e||void 0===e||null===(c=e.participants)||void 0===c||null===(d=c.find((function(e){return(null===e||void 0===e?void 0:e.id)!==(null===_||void 0===_?void 0:_.id)})))||void 0===d?void 0:d.prenom," ",null===e||void 0===e||null===(u=e.participants)||void 0===u||null===(v=u.find((function(e){return(null===e||void 0===e?void 0:e.id)!==(null===_||void 0===_?void 0:_.id)})))||void 0===v?void 0:v.nom),Object(a.createElement)("div",{className:g.yadMessagerieListGroupHeure},y(null===e||void 0===e||null===(f=e.messages[(null===e||void 0===e||null===(b=e.messages)||void 0===b?void 0:b.length)-1])||void 0===f?void 0:f.created_at))),Object(a.createElement)("div",{className:g.yadMessagerieListGroupApercu},(h=null===e||void 0===e||null===(j=e.messages[(null===e||void 0===e||null===(O=e.messages)||void 0===O?void 0:O.length)-1])||void 0===j?void 0:j.content,C=18,null!=h&&h.length>C?h.substring(0,C)+"...":h))),Object(a.createElement)("div",{className:g.yadMessagerieListGroupCheckIconContainer},Object(a.createElement)(m.a,{className:g.yadMessagerieListGroupCheckIcon})))})):Object(a.createElement)("div",null,"Pas de donn\xe9e")))),Object(a.createElement)("div",{className:"col-lg-8 "+g.colRightMessagerie+" d-flex mb-3"},null!=te||null!=X?Object(a.createElement)("div",{className:g.dtailsMessagesTabsComponent+" w-100"},Object(a.createElement)("div",{className:g.contentContentDetailMessageInfoContainer},Object(a.createElement)("div",{className:g.contentContentDetailMessageInfo+" p-3"},Object(a.createElement)("div",{className:g.contentImgPpChat},null==te?null!==X&&void 0!==X&&X.avatar&&F&&"/mediafiles/avatars/default.png"!==(null===X||void 0===X?void 0:X.avatar)?Object(a.createElement)("img",{src:N+(null===X||void 0===X?void 0:X.avatar),className:g.imageProfilEntete+" image_responsive",alt:"Photo",onError:function(){return R(!1)}}):Object(a.createElement)("div",{className:g.formatPseudo},E(X)):null!==te&&void 0!==te&&null!==(t=te.participants)&&void 0!==t&&null!==(n=t.find((function(e){return(null===e||void 0===e?void 0:e.id)!==(null===_||void 0===_?void 0:_.id)})))&&void 0!==n&&n.avatar&&F&&"/mediafiles/avatars/default.png"!==(null===te||void 0===te||null===(o=te.participants)||void 0===o||null===(i=o.find((function(e){return(null===e||void 0===e?void 0:e.id)!==(null===_||void 0===_?void 0:_.id)})))||void 0===i?void 0:i.avatar)?Object(a.createElement)("img",{src:N+(null===te||void 0===te||null===(r=te.participants)||void 0===r||null===(l=r.find((function(e){return(null===e||void 0===e?void 0:e.id)!==(null===_||void 0===_?void 0:_.id)})))||void 0===l?void 0:l.avatar),className:g.imageProfilEntete+" image_responsive",alt:"Photo",onError:function(){return R(!1)}}):Object(a.createElement)("div",{className:g.formatPseudo},E(null===te||void 0===te||null===(c=te.participants)||void 0===c?void 0:c.find((function(e){return(null===e||void 0===e?void 0:e.id)!==(null===_||void 0===_?void 0:_.id)})))),Object(a.createElement)("div",{className:g.yadMessagerieDetailMesAvatarIndicator},Object(a.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 10 10",fill:"none"},Object(a.createElement)("circle",{cx:"5",cy:"4.99976",r:"4.5",fill:"#2CC84A",stroke:"white"})))),Object(a.createElement)("div",{className:"content-info-user-chat"},Object(a.createElement)("div",{className:"msg-user-infos-container"},Object(a.createElement)("div",{className:"d-flex align-items-center msg-user-name"},Object(a.createElement)("p",{className:g.profilDetailMessage+" mb-0"},null==te?(null===X||void 0===X?void 0:X.prenom)+" "+(null===X||void 0===X?void 0:X.nom):(null===te||void 0===te||null===(d=te.participants)||void 0===d||null===(v=d.find((function(e){return(null===e||void 0===e?void 0:e.id)!==(null===_||void 0===_?void 0:_.id)})))||void 0===v?void 0:v.prenom)+" "+(null===te||void 0===te||null===(j=te.participants)||void 0===j||null===(O=j.find((function(e){return(null===e||void 0===e?void 0:e.id)!==(null===_||void 0===_?void 0:_.id)})))||void 0===O?void 0:O.nom))),Object(a.createElement)("div",{className:"bloc-user-disconnect-time msg-user-lastonline"},Object(a.createElement)("p",{className:g.textDisconnectTime+" mb-0"},"En ligne"))))),null!==(h=location)&&void 0!==h&&null!==(C=h.pathname)&&void 0!==C&&C.startsWith("/medecin/messages")?Object(a.createElement)("div",{className:g.yadMessageBtnPhotoContainer},Object(a.createElement)("button",{className:"btn "+g.yadMessageBtnPhoto},Object(a.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25",fill:"none"},Object(a.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.0814 13.019C16.0814 11.2098 14.6143 9.74268 12.8051 9.74268C10.9959 9.74268 9.52875 11.2098 9.52875 13.019C9.52875 14.8282 10.9959 16.2953 12.8051 16.2953C14.6143 16.2953 16.0814 14.8282 16.0814 13.019Z",stroke:"#9E9E9E",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Object(a.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.8047 21.0418C21.1852 21.0418 22.183 18.5309 22.183 13.0901C22.183 9.27648 21.6786 7.23591 18.5021 6.35871C18.2104 6.26661 17.887 6.09117 17.6249 5.80279C17.2017 5.33897 16.8925 3.91463 15.8705 3.48371C14.8486 3.05389 10.7444 3.07362 9.73895 3.48371C8.73457 3.8949 8.40781 5.33897 7.98457 5.80279C7.72251 6.09117 7.40014 6.26661 7.10737 6.35871C3.93084 7.23591 3.42645 9.27648 3.42645 13.0901C3.42645 18.5309 4.42426 21.0418 12.8047 21.0418Z",stroke:"#9E9E9E",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Object(a.createElement)("path",{d:"M17.9214 9.37508H17.9307",stroke:"#9E9E9E",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))),Object(a.createElement)("button",{className:"btn "+g.yadMessageBtnPhoto},Object(a.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 22 22",fill:"none"},Object(a.createElement)("path",{d:"M20.1719 14.1395L20.1377 13.3952L14.303 12.5618L13.1195 14.8784C11.87 14.1748 10.7277 13.2959 9.72744 12.2684C8.68847 11.2697 7.80316 10.1227 7.10034 8.86457L9.62034 7.60457L7.10034 1.73657L6.41634 1.83557C5.25792 1.99515 4.18469 2.53303 3.36354 3.36557C0.50784 6.21767 1.62654 11.8094 5.90874 16.0907C8.59254 18.7736 11.7884 20.2145 14.5046 20.2136C15.2638 20.24 16.0206 20.114 16.7303 19.8431C17.44 19.5721 18.0882 19.1616 18.6365 18.6359C19.1967 18.0381 19.6233 17.3281 19.888 16.5529C20.1527 15.7776 20.2495 14.955 20.1719 14.1395ZM17.3639 17.3633C15.2939 19.4333 10.631 18.2633 7.18134 14.8181C3.73164 11.3729 2.56614 6.70547 4.63614 4.63547C5.022 4.24443 5.49427 3.94941 6.01494 3.77417L7.29294 6.75587L6.29664 7.25357C6.08082 7.36166 5.88882 7.51185 5.73194 7.69528C5.57506 7.87872 5.45647 8.0917 5.38317 8.32167C5.30987 8.55164 5.28333 8.79396 5.30512 9.03435C5.32691 9.27473 5.39658 9.50833 5.51004 9.72137C6.29785 11.1327 7.28851 12.4209 8.45034 13.5446C9.57437 14.6934 10.8573 15.6751 12.26 16.4597C12.4763 16.577 12.7138 16.65 12.9586 16.6743C13.2034 16.6985 13.4506 16.6736 13.6856 16.601C13.9155 16.5294 14.1285 16.412 14.3116 16.2557C14.4948 16.0995 14.6444 15.9077 14.7512 15.692L15.3335 14.5274L18.3638 14.9603C18.3293 15.8552 17.9744 16.708 17.3639 17.3633Z",fill:"#AEAEB2"})))):Object(a.createElement)("div",{className:g.yadMessageBtnPhotoContainer},Object(a.createElement)("button",{className:"btn "+g.yadMessageBtnPhoto},Object(a.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",viewBox:"0 0 36 36",fill:"none"},Object(a.createElement)("circle",{cx:"18",cy:"18",r:"18",fill:"#F8F8FB"}),Object(a.createElement)("g",{opacity:"0.4"},Object(a.createElement)("path",{d:"M18 18.75C17.5858 18.75 17.25 18.4142 17.25 18C17.25 17.5858 17.5858 17.25 18 17.25C18.4142 17.25 18.75 17.5858 18.75 18C18.75 18.4142 18.4142 18.75 18 18.75Z",fill:"#102844",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(a.createElement)("path",{d:"M18 13.5C17.5858 13.5 17.25 13.1642 17.25 12.75C17.25 12.3358 17.5858 12 18 12C18.4142 12 18.75 12.3358 18.75 12.75C18.75 13.1642 18.4142 13.5 18 13.5Z",fill:"#102844",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(a.createElement)("path",{d:"M18 24C17.5858 24 17.25 23.6642 17.25 23.25C17.25 22.8358 17.5858 22.5 18 22.5C18.4142 22.5 18.75 22.8358 18.75 23.25C18.75 23.6642 18.4142 24 18 24Z",fill:"#102844",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))))),Object(a.createElement)("div",{className:g.blocDetails+" pb-5"},null===se||void 0===se?void 0:se.map((function(e){var t,n,o,i;return Object(a.createElement)("div",{key:null===e||void 0===e?void 0:e.id},(null===e||void 0===e||null===(t=e.sender)||void 0===t?void 0:t.id)!==(null===_||void 0===_?void 0:_.id)?Object(a.createElement)("div",{className:"position-relative received-msg-item m-b-2"},Object(a.createElement)("div",{className:g.blocMessageRecu+" p-3"},Object(a.createElement)("div",{className:"content-img-pp-message-recieve"},null!==e&&void 0!==e&&null!==(n=e.sender)&&void 0!==n&&n.avatar&&F&&"/mediafiles/avatars/default.png"!==(null===e||void 0===e||null===(o=e.sender)||void 0===o?void 0:o.avatar)?Object(a.createElement)("img",{src:N+(null===e||void 0===e||null===(i=e.sender)||void 0===i?void 0:i.avatar),className:g.imgPpMessageRecieve,alt:"Photo",onError:function(){return R(!1)}}):Object(a.createElement)("div",{className:g.formatPseudo},E(null===e||void 0===e?void 0:e.sender))),Object(a.createElement)("div",{className:"info-text-message-recu"},Object(a.createElement)("div",{className:"d-flex flex-column"},Object(a.createElement)("span",{className:g.textMessageRecu},null===e||void 0===e?void 0:e.content)),Object(a.createElement)("p",{className:g.timeDetailMessage+" mt-3"},y(null===e||void 0===e?void 0:e.created_at))))):Object(a.createElement)("div",{className:g.blocReponse},Object(a.createElement)("div",{className:"position-relative sending-msg-item"},Object(a.createElement)("div",{className:g.blocMessageEnvoyer},Object(a.createElement)("span",{className:g.textMessageEnvoyer},null===e||void 0===e?void 0:e.content)),Object(a.createElement)("p",{className:g.timeDetailMessage+" mt-3"},y(null===e||void 0===e?void 0:e.created_at)))))})),Object(a.createElement)("div",{className:"bg-danger"},ve||null),Object(a.createElement)("div",{ref:fe})),Object(a.createElement)("div",{className:g.textAreaFormContainer+" p-3 border-top"},Object(a.createElement)("form",{onSubmit:be},Object(a.createElement)("div",{className:"left-footer"},Object(a.createElement)("div",{className:g.leftFooterContainer},Object(a.createElement)("div",{className:g.inputGroup},Object(a.createElement)("div",{className:g.inputContainer},Object(a.createElement)("div",{className:g.containerDisplayInputMessage},Object(a.createElement)("div",{className:"share"},Object(a.createElement)("i",{className:"fa-solid fa-link img-icon-chat"})),Object(a.createElement)("div",{className:"inp w-100"},Object(a.createElement)("textarea",{className:g.messagerieCustomTextarrea+" form-control",rows:1,placeholder:"Type your message here...",value:oe,onChange:function(e){return ie(e.target.value)},onKeyDown:function(e){var t;"Enter"!==e.key||e.shiftKey?D.emit("typing",((t=_)&&void 0!==t?(null===t||void 0===t?void 0:t.prenom)+" "+(null===t||void 0===t?void 0:t.nom):"")+" est en train d'\xe9crire"):(e.preventDefault(),be(e))}}))))),Object(a.createElement)("div",{className:de?g.btnDisabled:g.btnContainer},Object(a.createElement)("button",{type:"submit",disabled:de},de?Object(a.createElement)(f.a,{animation:"border",size:"sm"}):Object(a.createElement)("i",{className:"fa-solid fa-paper-plane"})))))))):Object(a.createElement)("div",{className:g.dtailsMessagesTabsComponent+" w-100"}))))};function Q(e){var t=e.modalNewChat,n=e.setModalNewChat,o=e.setReceiver,i=e.setConversationActive,r=e.userList,s=e.ApiBaseUrl,c=e.conversations,d=e.setMessages,u=e.newMessageTitle,m=Object(a.useState)(""),p=m[0],f=m[1],b=null===r||void 0===r?void 0:r.filter((function(e){return((null===e||void 0===e?void 0:e.prenom)+" "+(null===e||void 0===e?void 0:e.nom)).toLowerCase().includes(p.toLowerCase())}));function y(){n(!1)}return Object(a.createElement)(l.a,{show:t,onHide:function(){return y()}},Object(a.createElement)(l.a.Header,{className:"modal-header border-0 p-3",closeButton:!0},Object(a.createElement)(l.a.Title,null,u)),Object(a.createElement)(l.a.Body,{className:g.modalBodyMessenger},Object(a.createElement)("div",{className:"pt-3"},Object(a.createElement)("div",{className:"form-search-user-container position-relative"},Object(a.createElement)("input",{type:"text",className:g.formSearchUser+" form-control",placeholder:"Rechercher des personnes",value:p,onChange:function(e){f(e.target.value)}}),Object(a.createElement)(v.a,{style:{color:"#919EAB",fontSize:22,position:"absolute",top:"25%",left:"2%"}}))),Object(a.createElement)("ul",{className:g.userForSendMessageContainer+" mt-3  px-2"},(null===b||void 0===b?void 0:b.length)>0?null===b||void 0===b?void 0:b.map((function(e){return Object(a.createElement)("li",{className:g.userForSendMessage+"  mb-3 px-3 py-1","data-bs-dismiss":"modal",key:"chatable_user_"+e.id,onClick:function(){return function(e){var t=c.find((function(t){return t.participants.some((function(t){return t.id===e.id}))}));t?(i(t),o(null),d(null===t||void 0===t?void 0:t.messages),y()):(o(e),i(null),d(null),y())}(e)}},Object(a.createElement)("button",{className:"btn no-link"},Object(a.createElement)("div",{className:"d-flex align-items-center gap-2"},Object(a.createElement)("div",null,"/mediafiles/avatars/default.png"!==(null===e||void 0===e?void 0:e.avatar)?Object(a.createElement)("img",{src:s+(null===e||void 0===e?void 0:e.avatar),alt:"user-avatar",className:"w-fluid "+g.imgProfilUserMessage}):Object(a.createElement)("div",{className:g.formatPseudo},E(e))),Object(a.createElement)("div",{className:g.userForSendMessageInfos},Object(a.createElement)("h3",{className:"mb-0"},null===e||void 0===e?void 0:e.prenom," ",null===e||void 0===e?void 0:e.nom)))))})):Object(a.createElement)("div",null,"Pas de donn\xe9e"))))}K.propTypes={socketUrl:X.string,user:X.object,token:X.string,apiBaseUrl:X.string,setApiPostEndpoint:X.string,setApiConversationUserEndpoint:X.string,setApiListUsersEndpoint:X.string,title:X.string,newMessageTitle:X.string};var ee=K,te=(n(79),function(){return o.a.createElement(ee,{user:{},token:"",apiBaseUrl:"",setApiPostEndpoint:"",setApiListUsersEndpoint:"",setApiConversationUserEndpoint:"",socketUrl:"164.92.136.142:4026"})});r.a.render(o.a.createElement(te,null),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.64434187.chunk.js.map